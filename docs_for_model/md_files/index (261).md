# Управление компаниями

## Общие сведения

Компания (организация) – это группа пользователей, обладающая общими данными. Если пользователь является ассоциированным с компанией, он имеет доступ ко всем данным компании с учетом прав. Каждый пользователь приложения входит хотя бы в одну компанию, а первый пользователь – в ту, которая создавалась при инициализации проекта.

Основной интерфейс управления компаниями доступен из служебного меню, открывающегося при нажатии на имя пользователя в правом верхнем углу страницы приложения. Интерфейсы администрирования, о которых идёт речь в данном разделе, доступны только пользователям со статусом "Администратор".

![Рисунок 1 Служебное меню](./media/adminMenu.png)

Для создания и редактирования компаний необходимо нажать на пункт "Управление компаниями". Откроется реестр компаний:

![Рисунок 2 Пример реестра компаний](./media/companiesReg.png)

## Создание компании

Чтобы создать компанию, необходимо в реестре компаний нажать на кнопку "Новая компания". Откроется форма, содержащая незаполненное поле "Наименование", таблицу "Управление сотрудниками", содержащую создающего компанию пользователя, и незаполненную таблицу "Управление замещениями".

![Рисунок 3 Результат нажатия на кнопку "Новая компания"](./media/justCreatedCompany.png)

Компания считается созданной после выполнения сохранения. Созданные компании удалить **нельзя**.

Чтобы завершить создание компании, необходимо ввести в поле "Наименование" наименование создаваемой компании и нажать на кнопку "Сохранить".
После успешного сохранения поле "Наименование" становится **неизменяемым**.

![Рисунок 4 Пример заполнения поля "Наименование"](./media/FillingOrgName.png)

При нажатии на кнопку "Сохранить" до ввода наименования компании операция не будет выполнена, и появится предупреждение:

![Рисунок 5 Предупреждение при незаполнении поля "Наименование"](./media/saveOrgWithoutOrgname.png)

***После сохранения компании обязательно нужно назначить роль пользователю, под которым была создана компания***

Для этого перейти в документ сотрудника, кликнув по нему в таблице "Управление сотрудниками"

![Рисунок 4 Управление сотрудниками](./media/image1.png)

Откроется форма документа "Сотрудник". Назначить роль в таблице "Роли" по кнопке "Добавить". Роли описаны в разделе ["Бизнес-роли"](../Бизнес-роли.md#дополнительные_роли).

Выйти из документа с сохранением по кнопке "Сохранить и закрыть" на панели инструментов.

![Рисунок 4 Документ "Сотрудник"](./media/image2.png)

При попытке создать сотрудника до сохранения компании операция не будет выполнена, и появится предупреждение:

![Рисунок 6 Предупреждение при попытке добавить сотрудника без выполнения сохранения](./media/createUserBeforeSaveOrg.png)

При успешном сохранении созданная компания появится в реестре компаний. Из реестра можно открыть форму компании для управления списком пользователей компании, создания и поиска пользователей, управления списком замещений.

![Рисунок 7 Пример реестра компаний после создания компании](./media/companiesRegUpdd.png)

<!-- ### Управление сотрудниками

Таблица "Управление сотрудниками" на форме компании отображает список всех сотрудников, добавленных в редактируемую компанию. Она не отображает полный список всех пользователей системы. Для проверки существования сотрудника и переноса их между организациями предназначен функционал поиска пользователей.

## Управление замещениями

Ниже таблицы "Управление сотрудниками" расположена таблица "Управление замещениями".

Замещение – процесс работы одного пользователя (замещающий) под правами другого (замещаемый). При этом замещающий работает только с правами замещаемого, т.е. права не объединяются. Используется, к примеру, когда начальник отдела уходит в отпуск и его заместитель работает с его документами.

Более подробно про замещение пользователей описывается в разделе [Заме](./../Регистрация пользователей/Регистрация пользователей.md#настройка_прав_замещения). -->

## Дальнейшие действия

После создания компании и добавления пользователей необходимо заполнить основные справочники (статьи раздела "Настройка системы Lexema-ECM" – "Заполнение справочников" – "Учёт труда и кадров") и произвести [настройку маршрутов документов](../Настройка документов/).

При заполнении справочников необходимо убедиться, что администратор заполняет справочники в рамках требуемой организации. Чтобы переключаться между компаниями необходимо в служебном меню нажать на пункт "Компания/Замещение" и выбрать компанию из списка. Если текущий пользователь может замещать сотрудника, в раскрывающемся при нажатии на компанию списке "Кого я буду замещать" необходимо одно из двух:

* выбрать пункт "Без замещения", если пользователь будет выполнять действия в системе от своего имени;
* выбрать ФИО замещаемого сотрудника, если пользователь будет выполнять действия в системе от имени другого сотрудника.