# Описание настроек на стороне Лексемы

В прикладную библиотеку Интеграция с 1С входят следующие объекты:<br>
* Сервис обмена данными odata-service<br>
* Форма Настройки обмена  «Настройка параметров обмена с 1С»<br>
* Форма для ручного обновления «Обмен данными с 1С»<br>
 
Для обмена данными с 1С на проекте необходимо:<br>
1)	 подключить прикладную библиотеку Интеграция с 1С (8.4) 
В файле package.json "ecosoft-lexema8-odata-lib": текущая версия<br>
2)	При сборке сайта указать текущую версию odata-service<br>
3)	При сборке сайта файл production.json в папке config должен иметь формат следующего вида:<br>
 
  *odata: {*
      *protocol: 'http',*
      *host: 'odata_srv',*
      *port: 3207,*
      *route: '/api/v2.0/odata',*
      *script: 'ecosoft-lexema8-odata-service',*
      *connections: {<br>*
   *"1С ЗУП   сервер 1" : {<br>*
     *"login": "login1",<br>*
     *"password": "password1",<br>*
     *"path": "http://путь к серверу1/опубликованное имя1/odata/standard.odata/",<br>*
     *"type": 'ODATA'<br>*

   *},<br>*
   *"1С ЗУП  сервер 2": {<br>*
     *"login": "login2",<br>*
     *"password": "password2",<br>*
     *"path": "http://путь к серверу2/опубликованное имя1/odata/standard.odata/",<br>*
     *"type": 'ODATA'<br>*
   *}<br>*
 *}<br>*
*}<br>*


(здесь "1С ЗУП сервер 1 " и "1С ЗУП сервер 2" - это проектное название инстанций 1С)
Для каждой организации Лексемы в документе *"Настройка параметров обмена с 1С"* указать соответствующее наименование инстанции.<br>

При первом входе в документ «Настройка параметров обмена с 1С» для каждой компании Лексемы в документе "Настройка параметров обмена с 1С" необходимо указать соответствующее наименование инстанции (один раз на любой компании, если инстанция одна). 

На основании этого названия загружаются данные на закладку «Справочники»,  в том числе guid'ы организаций.

Поле "Инстанция 1С" в шапке документа и лукап "Филиал"  никак не связаны, друг от друга не зависят. 

От лукапа "Филиал" зависят отображаемые строки в табличной части на всех закладках (кроме закладки "сопоставление справочников"). 

Поле "Инстанция 1С" зависит от текущей компании, выбранной для работы.

Также важно указать максимальный размер данных, который сервис data позволяет передавать в запросы в разделе applications: <br>
 
 *applications:* {<br>
    *data:*{<br>
      *dataSizeLimit: '1gb'*<br>
    *}*,<br>

Если не параметр не указан, то по-умолчанию он равен 1 Мб  и запросы, файлы с большим объемом данных не смогут загрузиться с ошибкой request entity too large.

