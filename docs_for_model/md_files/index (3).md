# Виды авторизации

## Общие сведения

Помимо стандартной авторизации с помощью логина и пароля в системе Lexema-ECM предусмотрена двухфакторная и доменная авторизации пользователя.

Также доступна возможность принудительной смены пароля пользователем при первом входе в систему. 

## Стандартная авторизация

При стандартной авторизации пользователю для входа в систему требуется ввести логин и пароль.

### Сценарий использования

Для входа в систему пользователю необходимо в адресной строке браузера ввести адрес сайта, по которому расположена система электронного документооборота (СЭД). Откроется страница входа в СЭД Лексема. При входе потребуется ввести логин и пароль, выданные администратором, а затем нажать на кнопку "Войти".

![Рисунок 1 Вход в систему](Виды авторизации/media/login.png

## Двухфакторная авторизация

При двухфакторной авторизации пользователю кроме ввода логина и пароля для авторизации в системе потребуется ввести одноразовый код, который будет отправлен ему в СМС или на почту.

### Сценарий использования

Для входа в систему пользователю необходимо в адресной строке браузера ввести адрес сайта, по которому расположена система электронного документооборота (СЭД). Откроется страница входа в СЭД Лексема. При входе потребуется ввести логин и пароль, выданные администратором, а затем нажать на кнопку "Войти".

![Рисунок 4 Вход в систему](Виды авторизации/media/login.png

После ввода логина и пароля пользователю необходимо будет ввести одноразовый код аутентификации, который будет выслан либо письмом на почту, либо на телефон с помощью СМС, и нажать на кнопку "Войти".

![Рисунок 5 Окно ввода одноразового кода](Виды авторизации/media/onetimeCode.png

Администратор может настроить время, спустя которое можно нажать на кнопку "Отправить код повторно", и ограничить время действия кода, по истечении которого для входа в систему потребуется отправить код повторно.

## Доменная авторизация

Доменная авторизация позволяет проверить подлинность данных на стороннем ресурсе. В рамках такой авторизации данные о пользователе хранятся в системе, но проверка пары логин-пароль происходит на стороннем ресурсе. Сторонним ресурсом служит контроллер домена.

### Сценарий использования

- Пользователь вводит логин/пароль на странице авторизации.
- Сервер приложения принимает логин/пароль и отправляет их на проверку контроллеру домена.
- Контроллер домена, когда логин/пароль верны, возвращает данные об авторизованном пользователе.
- Сервер приложения авторизует пользователя в системе.
- Сервер приложения осуществляет обновления данных пользователя, полученных от контроллера домена в ходе авторизации.

### Создание пользователей

Создание пользователей отличается от обычных пользователей системы. Для создания "доменного" пользователя необходимо поставить галочку в поле "Доменный" на странице создания пользователя и указать его логин в домене. После первой авторизации данные пользователя будут обновлены с учетом настроек системы.

![Рисунок 6 Создание доменного пользователя](Виды авторизации/media/createDomainUser.png

## Смена пароля при первом входе в систему

Если была произведена соответствующая настройка, то при первой попытке входа в учётную запись пароль, выданный администратором, необходимо будет сменить. 

![Рисунок 2 Требование сменить пароль](Виды авторизации/media/chPswWarn.png

Требования к новому паролю определяются администратором системы. 

<!-- Более подробно про включение необходимости смены пароля при первом входе пользователя после регистрации можно прочитать в разделе [Настройка авторизации](./../Настройка авторизации пользователей/Настройка авторизации.md#смена_пароля_при_первом_входе_в_систему)

![Рисунок 3 Требование сменить пароль](Виды авторизации/media/chPswSending.png-->