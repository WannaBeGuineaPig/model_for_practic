# Управление компаниями (Настройка своей организации)

## Общие сведения

Компания (организация) – это группа пользователей, обладающая общими данными. Если пользователь является ассоциированным с компанией, он имеет доступ ко всем данным компании с учетом прав. Каждый пользователь приложения входит хотя бы в одну компанию, а первый пользователь – в ту, которая создавалась при инициализации проекта.

Основной интерфейс управления компаниями доступен из служебного меню, открывающегося при нажатии на имя пользователя в правом верхнем углу страницы приложения. Интерфейсы администрирования, о которых идёт речь в данном разделе, доступны только пользователям со статусом "Администратор".

<figure class="figure-image">
  <img src="../adminMenu.png" alt="Рисунок 1. Служебное меню">
  <figcaption>Рисунок 1. Служебное меню</figcaption>
</figure>
<!-- ![Рисунок 1. Служебное меню](../adminMenu.png)  -->

Для создания и редактирования компаний необходимо нажать на пункт "Управление компаниями". Откроется реестр компаний:

<figure class="figure-image">
  <img src="../companiesReg.png" alt="Рисунок 2. Пример реестра компаний" class="zoom">
  <figcaption>Рисунок 2. Пример реестра компаний</figcaption>
</figure>

## Создание компании

Чтобы создать компанию, необходимо в реестре компаний нажать на кнопку "Новая компания". Откроется форма, содержащая незаполненное поле "Наименование", таблицу "Управление сотрудниками", содержащую создающего компанию пользователя, и незаполненную таблицу "Управление замещениями".

<figure class="figure-image">
  <img src="../justCreatedCompany.png" alt="Рисунок 3. Результат нажатия на кнопку "Новая компания"" class="zoom">
  <figcaption>Рисунок 3. Результат нажатия на кнопку "Новая компания"</figcaption>
</figure>

Компания считается созданной после выполнения сохранения. Созданные компании удалить **нельзя**.

Чтобы завершить создание компании, необходимо ввести в поле "Наименование" наименование создаваемой компании и нажать на кнопку "Сохранить".
После успешного сохранения поле "Наименование" становится **неизменяемым**.

<figure class="figure-image">
  <img src="../FillingOrgName.png" alt="[Рисунок 4. Пример заполнения поля "Наименование"">
  <figcaption>[Рисунок 4. Пример заполнения поля "Наименование"</figcaption>
</figure>
<!-- ![Рисунок 4. Пример заполнения поля "Наименование"](../FillingOrgName.png)  -->

При нажатии на кнопку "Сохранить" до ввода наименования компании операция не будет выполнена, и появится предупреждение:

<figure class="figure-image">
  <img src="../FillingOrgName.png" alt="Рисунок 5. Предупреждение при незаполнении поля "Наименование"" class="zoom">
  <figcaption>Рисунок 5. Предупреждение при незаполнении поля "Наименование"</figcaption>
</figure>
<!-- ![Рисунок 5. Предупреждение при незаполнении поля "Наименование"](../FillingOrgName.png)  -->

***После сохранения компании обязательно нужно назначить роль пользователю, под которым была создана компания***

Для этого перейти в документ сотрудника, кликнув по нему в таблице "Управление сотрудниками"

<figure class="figure-image">
  <img src="../image1.png" alt="Рисунок 6. Управление сотрудниками" class="zoom">
  <figcaption>Рисунок 6. Управление сотрудниками</figcaption>
</figure>
<!-- ![Рисунок 6. Управление сотрудниками](../image1.png)  -->

Откроется форма документа "Сотрудник". Назначить роль в таблице "Роли" по кнопке "Добавить". Роли описаны в разделе [Роли системы](./../Роли/Роли.md).

Выйти из документа с сохранением по кнопке "Сохранить и закрыть" на панели инструментов.

<figure class="figure-image">
  <img src="../image2.png" alt="Рисунок 7. Документ "Сотрудник"">
  <figcaption>Рисунок 7. Документ "Сотрудник"</figcaption>
</figure>
<!-- ![Рисунок 7. Документ "Сотрудник"](../image2.png)  -->

При попытке создать сотрудника до сохранения компании операция не будет выполнена, и появится предупреждение:

<figure class="figure-image">
  <img src="../createUserBeforeSaveOrg.png" alt="Рисунок 8. Предупреждение при попытке добавить сотрудника без выполнения сохранения" class="zoom">
  <figcaption>Рисунок 8. Предупреждение при попытке добавить сотрудника без выполнения сохранения</figcaption>
</figure>

При успешном сохранении созданная компания появится в реестре компаний. Из реестра можно открыть форму компании для управления списком пользователей компании, создания и поиска пользователей, управления списком замещений.

<figure class="figure-image">
  <img src="../companiesRegUpdd.png" alt="Рисунок 9. Пример реестра компаний после создания компании" class="zoom">
  <figcaption>Рисунок 9. Пример реестра компаний после создания компании</figcaption>
</figure>
<!-- ![Рисунок 9. Пример реестра компаний после создания компании](../companiesRegUpdd.png)  -->

## Управление сотрудниками

Таблица "Управление сотрудниками" на форме компании отображает список всех сотрудников, добавленных в редактируемую компанию. Она не отображает полный список всех пользователей системы. Для проверки существования сотрудника и переноса их между организациями предназначен функционал поиска пользователей.

При создании пользователя из формы компании пользователь автоматически заносится в таблицу "Управление сотрудниками". Более подробно про создание пользователей описывается в разделе [Регистрация пользователей](../Регистрация пользователей/Регистрация пользователей.md).

## Управление замещениями

Ниже таблицы "Управление сотрудниками" расположена таблица "Управление замещениями".

Замещение – процесс работы одного пользователя (замещающий) под правами другого (замещаемый). При этом замещающий работает только с правами замещаемого, т.е. права не объединяются. Используется, к примеру, когда начальник отдела уходит в отпуск и его заместитель работает с его документами.

Более подробно про замещение пользователей описывается в разделе [Регистрация пользователей – Настройка прав замещения](../Регистрация пользователей/Регистрация пользователей.md#настройка_прав_замещения).

## Дальнейшие действия

После создания компании и добавления пользователей необходимо заполнить Основные [Справочники](../../Lexema-ERP/Общие справочники/Справочники.md).

При заполнении справочников необходимо убедиться, что администратор заполняет справочники в рамках требуемой организации. Чтобы переключаться между компаниями необходимо в служебном меню нажать на пункт "Компания/Замещение" и выбрать компанию из списка. Если текущий пользователь может замещать сотрудника, в раскрывающемся при нажатии на компанию списке "Кого я буду замещать" необходимо одно из двух:

* выбрать пункт "Без замещения", если пользователь будет выполнять действия в системе от своего имени;
* выбрать ФИО замещаемого сотрудника, если пользователь будет выполнять действия в системе от имени другого сотрудника.